// Mock data for users
export const mockUsers = [
  {
    id: 1,
    username: "nguyenvanan",
    email: "nguyenvanan@company.com",
    password: "hashed_password",
    role: "EMPLOYEE",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 2,
    username: "tranthibao",
    email: "tranthibao@company.com",
    password: "hashed_password",
    role: "HR",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 3,
    username: "levancuong",
    email: "levancuong@company.com",
    password: "hashed_password",
    role: "EMPLOYEE",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 4,
    username: "phamthidung",
    email: "phamthidung@company.com",
    password: "hashed_password",
    role: "ADMIN",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 5,
    username: "hoangvanem",
    email: "hoangvanem@company.com",
    password: "hashed_password",
    role: "EMPLOYEE",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 6,
    username: "ngothiphuong",
    email: "ngothiphuong@company.com",
    password: "hashed_password",
    role: "EMPLOYEE",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 7,
    username: "dovangiang",
    email: "dovangiang@company.com",
    password: "hashed_password",
    role: "EMPLOYEE",
    status: "ACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 8,
    username: "vuthihanh",
    email: "vuthihanh@company.com",
    password: "hashed_password",
    role: "EMPLOYEE",
    status: "INACTIVE",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  }
];

// Mock data for departments
export const mockDepartments = [
  {
    id: 1,
    dept_name: "Phòng Kỹ thuật",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 2,
    dept_name: "Phòng Nhân sự",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 3,
    dept_name: "Phòng Kinh doanh",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 4,
    dept_name: "Phòng Marketing",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 5,
    dept_name: "Phòng Kế toán",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 6,
    dept_name: "Phòng Hành chính",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  }
];

// Mock data for positions
export const mockPositions = [
  {
    id: 1,
    position_name: "Senior Developer",
    description: "Lập trình viên cao cấp",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 2,
    position_name: "HR Manager",
    description: "Quản lý nhân sự",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 3,
    position_name: "Sales Executive",
    description: "Nhân viên kinh doanh",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 4,
    position_name: "Marketing Manager",
    description: "Quản lý marketing",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 5,
    position_name: "Chief Accountant",
    description: "Kế toán trưởng",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 6,
    position_name: "Junior Developer",
    description: "Lập trình viên junior",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 7,
    position_name: "Admin Executive",
    description: "Nhân viên hành chính",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  },
  {
    id: 8,
    position_name: "QA Engineer",
    description: "Kỹ sư kiểm thử",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false
  }
];

// Mock data for employees (updated structure)
export const mockEmployees = [
  {
    id: 1,
    user_id: 1,
    dept_id: 1,
    full_name: "Nguyễn Văn An",
    gender: "Nam",
    dob: "1990-05-15",
    phone_number: "0901234567",
    address: "123 Nguyễn Huệ, Quận 1, TP.HCM",
    hire_date: "2023-01-15",
    status: "ACTIVE",
    role_in_dept: "STAFF",
    created_at: "2023-01-15T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    // Relations
    user: mockUsers[0],
    department: mockDepartments[0],
    position: mockPositions[0]
  },
  {
    id: 2,
    user_id: 2,
    dept_id: 2,
    full_name: "Trần Thị Bảo",
    gender: "Nữ",
    dob: "1992-08-20",
    phone_number: "0902345678",
    address: "456 Lê Lợi, Quận 3, TP.HCM",
    hire_date: "2023-03-01",
    status: "ACTIVE",
    role_in_dept: "HEAD",
    created_at: "2023-03-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    user: mockUsers[1],
    department: mockDepartments[1],
    position: mockPositions[1]
  },
  {
    id: 3,
    user_id: 3,
    dept_id: 3,
    full_name: "Lê Văn Cường",
    gender: "Nam",
    dob: "1988-12-10",
    phone_number: "0903456789",
    address: "789 Võ Văn Tần, Quận 3, TP.HCM",
    hire_date: "2023-06-15",
    status: "ACTIVE",
    role_in_dept: "STAFF",
    created_at: "2023-06-15T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    user: mockUsers[2],
    department: mockDepartments[2],
    position: mockPositions[2]
  },
  {
    id: 4,
    user_id: 4,
    dept_id: 4,
    full_name: "Phạm Thị Dung",
    gender: "Nữ",
    dob: "1991-03-25",
    phone_number: "0904567890",
    address: "321 Cách Mạng Tháng 8, Quận 10, TP.HCM",
    hire_date: "2023-02-01",
    status: "ACTIVE",
    role_in_dept: "HEAD",
    created_at: "2023-02-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    user: mockUsers[3],
    department: mockDepartments[3],
    position: mockPositions[3]
  },
  {
    id: 5,
    user_id: 5,
    dept_id: 5,
    full_name: "Hoàng Văn Em",
    gender: "Nam",
    dob: "1985-07-30",
    phone_number: "0905678901",
    address: "654 Trường Chinh, Tân Bình, TP.HCM",
    hire_date: "2023-01-01",
    status: "ACTIVE",
    role_in_dept: "HEAD",
    created_at: "2023-01-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    user: mockUsers[4],
    department: mockDepartments[4],
    position: mockPositions[4]
  },
  {
    id: 6,
    user_id: 6,
    dept_id: 1,
    full_name: "Ngô Thị Phương",
    gender: "Nữ",
    dob: "1995-11-05",
    phone_number: "0906789012",
    address: "987 Phạm Văn Đồng, Thủ Đức, TP.HCM",
    hire_date: "2024-01-15",
    status: "ACTIVE",
    role_in_dept: "STAFF",
    created_at: "2024-01-15T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    user: mockUsers[5],
    department: mockDepartments[0],
    position: mockPositions[5]
  },
  {
    id: 7,
    user_id: 7,
    dept_id: 6,
    full_name: "Đỗ Văn Giang",
    gender: "Nam",
    dob: "1993-09-18",
    phone_number: "0907890123",
    address: "147 Nguyễn Thị Minh Khai, Quận 1, TP.HCM",
    hire_date: "2023-09-01",
    status: "ACTIVE",
    role_in_dept: "DEPUTY",
    created_at: "2023-09-01T08:00:00",
    updated_at: "2024-01-15T10:00:00",
    is_deleted: false,
    user: mockUsers[6],
    department: mockDepartments[5],
    position: mockPositions[6]
  },
  {
    id: 8,
    user_id: 8,
    dept_id: 1,
    full_name: "Vũ Thị Hạnh",
    gender: "Nữ",
    dob: "1994-04-22",
    phone_number: "0908901234",
    address: "258 Điện Biên Phủ, Quận 3, TP.HCM",
    hire_date: "2022-05-01",
    status: "INACTIVE",
    role_in_dept: "STAFF",
    created_at: "2022-05-01T08:00:00",
    updated_at: "2023-03-15T10:00:00",
    is_deleted: false,
    user: mockUsers[7],
    department: mockDepartments[0],
    position: mockPositions[7]
  }
];

// Mock data for contracts (theo database structure)
export const mockContracts = [
  {
    id: 1,
    emp_id: 1,
    contract_type: "Full-time",
    start_date: "2024-01-01",
    end_date: "2025-01-01",
    file_url: "/contracts/HD_NV001_2024.pdf",
    status: "ACTIVE",
    created_at: "2024-01-01T10:00:00",
    updated_at: "2024-01-01T10:00:00",
    is_deleted: false,
    // Relations for display
    employee: mockEmployees[0]
  },
  {
    id: 2,
    emp_id: 2,
    contract_type: "Full-time",
    start_date: "2023-06-15",
    end_date: "2024-06-15",
    file_url: "/contracts/HD_NV002_2023.pdf",
    status: "EXPIRED",
    created_at: "2023-06-15T09:30:00",
    updated_at: "2024-06-15T09:30:00",
    is_deleted: false,
    employee: mockEmployees[1]
  },
  {
    id: 3,
    emp_id: 3,
    contract_type: "Part-time",
    start_date: "2024-03-01",
    end_date: "2024-09-01",
    file_url: "/contracts/HD_NV003_2024.pdf",
    status: "ACTIVE",
    created_at: "2024-03-01T14:00:00",
    updated_at: "2024-03-01T14:00:00",
    is_deleted: false,
    employee: mockEmployees[2]
  },
  {
    id: 4,
    emp_id: 4,
    contract_type: "Full-time",
    start_date: "2024-02-01",
    end_date: "2025-02-01",
    file_url: null,
    status: "ACTIVE",
    created_at: "2024-02-01T11:00:00",
    updated_at: "2024-02-01T11:00:00",
    is_deleted: false,
    employee: mockEmployees[3]
  },
  {
    id: 5,
    emp_id: 5,
    contract_type: "Full-time",
    start_date: "2024-01-15",
    end_date: "2024-04-15",
    file_url: "/contracts/HD_NV005_2024.pdf",
    status: "ACTIVE",
    created_at: "2024-01-15T10:30:00",
    updated_at: "2024-01-15T10:30:00",
    is_deleted: false,
    employee: mockEmployees[4]
  },
  {
    id: 6,
    emp_id: 6,
    contract_type: "Part-time",
    start_date: "2024-03-15",
    end_date: "2024-06-15",
    file_url: "/contracts/HD_NV006_2024.pdf",
    status: "ACTIVE",
    created_at: "2024-03-15T08:45:00",
    updated_at: "2024-03-15T08:45:00",
    is_deleted: false,
    employee: mockEmployees[5]
  },
  {
    id: 7,
    emp_id: 7,
    contract_type: "Full-time",
    start_date: "2023-09-01",
    end_date: "2024-09-01",
    file_url: "/contracts/HD_NV007_2023.pdf",
    status: "ACTIVE",
    created_at: "2023-09-01T09:00:00",
    updated_at: "2024-01-10T15:30:00",
    is_deleted: false,
    employee: mockEmployees[6]
  },
  {
    id: 8,
    emp_id: 8,
    contract_type: "Full-time",
    start_date: "2022-05-01",
    end_date: "2023-05-01",
    file_url: "/contracts/HD_NV008_2022.pdf",
    status: "TERMINATED",
    created_at: "2022-05-01T10:00:00",
    updated_at: "2023-03-15T16:00:00",
    is_deleted: false,
    employee: mockEmployees[7]
  }
];

// Helper functions
export const getNextContractId = () => {
  return Math.max(...mockContracts.map(c => c.id), 0) + 1;
};

export const addContractToMockData = (contractData) => {
  const employee = mockEmployees.find(e => e.id === contractData.emp_id);
  const newContract = {
    id: getNextContractId(),
    emp_id: contractData.emp_id,
    contract_type: contractData.contract_type,
    start_date: contractData.start_date,
    end_date: contractData.end_date,
    file_url: contractData.file ? `/contracts/HD_${employee?.id}_${new Date().getFullYear()}.pdf` : null,
    status: contractData.status || "ACTIVE",
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
    is_deleted: false,
    employee: employee
  };
  
  mockContracts.push(newContract);
  return newContract;
};

export const updateContractInMockData = (id, updates) => {
  const index = mockContracts.findIndex(c => c.id === id);
  if (index !== -1) {
    mockContracts[index] = {
      ...mockContracts[index],
      ...updates,
      updated_at: new Date().toISOString()
    };
    return mockContracts[index];
  }
  return null;
};

export const deleteContractFromMockData = (id) => {
  const index = mockContracts.findIndex(c => c.id === id);
  if (index !== -1) {
    mockContracts[index].is_deleted = true;
    mockContracts[index].status = "TERMINATED";
    mockContracts[index].updated_at = new Date().toISOString();
    return true;
  }
  return false;
};

// Get active employees with full information
export const getActiveEmployeesWithInfo = () => {
  return mockEmployees
    .filter(emp => emp.status === 'ACTIVE' && !emp.is_deleted)
    .map(emp => ({
      ...emp,
      user: mockUsers.find(u => u.id === emp.user_id),
      department: mockDepartments.find(d => d.id === emp.dept_id),
      position: mockPositions.find(p => p.id === emp.id) // Simplified mapping
    }));
};

// Get employee code (generated from employee ID)
export const generateEmployeeCode = (employeeId) => {
  return `NV${String(employeeId).padStart(4, '0')}`;
};


// Helper functions for departments
export const getNextDepartmentId = () => {
  return Math.max(...mockDepartments.map(d => d.id), 0) + 1;
};

export const addDepartmentToMockData = (departmentData) => {
  const newDepartment = {
    id: getNextDepartmentId(),
    dept_name: departmentData.dept_name,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
    is_deleted: false,
    // Additional fields
    description: departmentData.description || '',
    head_id: departmentData.head_id || null,
    location: departmentData.location || '',
    email: departmentData.email || '',
    phone: departmentData.phone || ''
  };
  
  mockDepartments.push(newDepartment);
  return newDepartment;
};

export const updateDepartmentInMockData = (id, updates) => {
  const index = mockDepartments.findIndex(d => d.id === id);
  if (index !== -1) {
    mockDepartments[index] = {
      ...mockDepartments[index],
      ...updates,
      updated_at: new Date().toISOString()
    };
    return mockDepartments[index];
  }
  return null;
};

export const deleteDepartmentFromMockData = (id) => {
  const index = mockDepartments.findIndex(d => d.id === id);
  if (index !== -1) {
    mockDepartments[index].is_deleted = true;
    mockDepartments[index].updated_at = new Date().toISOString();
    return true;
  }
  return false;
};

// Mock data for leave requests
export const mockLeaveRequests = [
  {
    id: 1,
    emp_id: 1,
    leave_type: "Annual Leave",
    start_date: "2024-12-20",
    end_date: "2024-12-25",
    reason: "Family vacation",
    status: "Approved",
    approved_by: 2,
    approved_date: "2024-12-18",
    created_at: "2024-12-10T09:00:00",
    updated_at: "2024-12-18T09:00:00",
    is_deleted: false,
  },
  {
    id: 2,
    emp_id: 1,
    leave_type: "Sick Leave",
    start_date: "2025-01-05",
    end_date: "2025-01-06",
    reason: "Fever and rest needed",
    status: "Pending",
    approved_by: null,
    approved_date: null,
    created_at: "2025-01-04T08:30:00",
    updated_at: "2025-01-04T08:30:00",
    is_deleted: false,
  },
];

// Helper functions
export const getNextLeaveRequestId = () => {
  return Math.max(...mockLeaveRequests.map((r) => r.id), 0) + 1;
};

export const addLeaveRequestToMockData = (requestData) => {
  const newRequest = {
    id: getNextLeaveRequestId(),
    emp_id: requestData.emp_id,
    leave_type: requestData.leave_type,
    start_date: requestData.start_date,
    end_date: requestData.end_date,
    reason: requestData.reason,
    status: "Pending",
    approved_by: null,
    approved_date: null,
    created_at: new Date().toISOString(),
    updated_at: new Date().toISOString(),
    is_deleted: false,
  };
  mockLeaveRequests.push(newRequest);
  return newRequest;
};
